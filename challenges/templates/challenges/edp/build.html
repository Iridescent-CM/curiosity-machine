{% extends 'base.html' %}

{% load staticfiles %}
{% load resized %}
{% load widget_tweaks %}

{% block title %}{{ challenge.name }}{% endblock %}

{% block js %}
  <script src="{% static "js/challenges.js" %}"></script>
{% endblock %}

{% block content %}
  {% block top_header %}
  <h1>{{ challenge.name }}</h1>
  {% endblock %}

  {% block alerts %}{% endblock %}

  {% if challenge.draft %}
  {% block draft_message %}{% endblock %}
  {% endif %}

  {% include "challenges/preview/_nav.html" with stage="build" %}

  <div class="challenge-content">
    {% block under_nav_header %}
    <header class="challenge-header">
      <h1>Plan your project</h1>
      <p>{{ challenge.plan_subheader }}</p>
    </header>
    {% endblock %}

    <div class="row">

      <div class="col-md-5">
        {% block left_panel %}
        <div class="panel blue">
          <div class="panel-body">
            {{challenge.build_call_to_action}}
          </div>
        </div>
        {% endblock %}
      </div>

      <div class="col-md-1">
        {% block middle_panel %}
        <img src="{% resized MEDIA_URL|add:'images/placeholder.png' width=60 height=80 %}"
          width=60 height=80 />
        {% endblock %}
      </div>

      <div class="col-md-6">
        {% block right_panel %}
        {% block right_panel_head %}
        {% endblock %}

        {% block commenting_bubble %}
        <div class="panel panel-bubble right edp-comments">
          <div class="panel-body">
            <h3>What step are you on?</h3>
            {% block step_form %}
            <form>
              <div class="form-group">
                <ul class="switch">
                  <li>
                    <input type="radio" name="stepSelector" id="buildSelector" value="build" checked>
                    <label for="buildSelector">Building</label>
                  </li>
                  <li>
                    <input type="radio" name="stepSelector" id="testSelector" value="test">
                    <label for="testSelector">Testing</label>
                  </li>
                </ul>
              </div>
              {{ comment_form.text|attr:"disabled:disabled" }}
              {{ comment_form.visual_media|attr:"disabled:disabled" }}
              <input type="submit" disabled="disabled" class="btn btn-primary pull-right" />
            </form>
            {% endblock %}
          </div>
        </div>
        {% endblock %}

        {% block comments %}{% endblock %}

        {% endblock %}
      </div>
    </div>

    {% block guide %}{% endblock %}
  </div>
{% endblock %}
