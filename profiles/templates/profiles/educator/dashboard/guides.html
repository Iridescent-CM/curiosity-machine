{% extends "curiositymachine/layout/base.html" %}
{% load staticfiles %}
{% block title %}Curiosity Machine - Home{% endblock %}
{% block body-classes %}educator-dashboard{% endblock %}

{% block content %}

{% include 'profiles/educator/dashboard/_header.html' %}

<div class="container m-b-lg">

  {% include 'profiles/educator/dashboard/_navigation.html' with activeNav="guides" %}

  {% if extra_units %}
  <div class="row p-b">
    <div class="col-md-12">
      <h2>{{ membership.display_name }} Units &amp; Guides</h2>
      <p>We provide units to help you structure how you can use design challenges in the classroom.</p>
    </div>
  </div>

  <div class="row">
    {% for unit in extra_units %}
    <div class="col-md-6 m-b">
      {% include "profiles/educator/dashboard/_unit_card.html" with unit=unit %}
    </div>
    {% if forloop.counter|divisibleby:2 %}
    <div class="clearfix"></div>
    {% endif %}
    {% endfor %}
  </div>
  {% endif %}

  <div class="row p-b">
    <div class="col-md-12">
      <h2>Units &amp; Guides</h2>
      <p>We provide units to help you structure how you can use design challenges in the classroom.</p>
    </div>
  </div>

  <div class="row">

    {% for unit in units %}
    <div class="col-md-6 m-b">
      {% include "profiles/educator/dashboard/_unit_card.html" with unit=unit %}
    </div>
    {% if forloop.counter|divisibleby:2 %}
    <div class="clearfix"></div>
    {% endif %}
    {% endfor %}

  </div>

  {% if membership_selection.no_memberships %}
  <div class="m-t-lg">
    {% include 'profiles/educator/dashboard/_membership-blurb.html' %}
  </div>
  {% endif %}

</div>
{% endblock %}

{% block js %}
  <!-- script that makes "more" say "less" after you click in expandable cards -->
  <script>
  $("a[data-text-swap]").on("click", function() {
    var el = $(this);
    if (el.text() == el.data("text-swap")) {
      el.text(el.data("text-original"));
    } else {
      el.data("text-original", el.text());
      el.text(el.data("text-swap"));
    }
    });
  </script>
{% endblock %}
